{"ast":null,"code":"import axios from 'axios';\nimport constants from '../constants.json';\nlet userInfo = {\n  id: null\n};\nlet myAuth = {\n  authenticate: (username, password, token) => {\n    return new Promise((resolve, reject) => {\n      axios.get(constants.baseAddress + '/users/:id', {\n        auth: {\n          username: username,\n          password: password\n        }\n      }).then(e => {\n        const token = e.data.token;\n        const config = {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        };\n        axios.get(constants.baseAddress + '/users/signin', config).then(res => {\n          console.log(res.data);\n        }).then(res => {\n          userInfo = {\n            id: res.data\n          };\n          resolve();\n        }).catch(error => {\n          console.log(error);\n          reject();\n        });\n      });\n    });\n  },\n  getAxiosAuth: () => {\n    return {\n      auth: userInfo\n    };\n  }\n};\nexport default myAuth;","map":{"version":3,"sources":["/Users/tainguyen/Desktop/my-app/src/components/Auth.js"],"names":["axios","constants","userInfo","id","myAuth","authenticate","username","password","token","Promise","resolve","reject","get","baseAddress","auth","then","e","data","config","headers","Authorization","res","console","log","catch","error","getAxiosAuth"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AAEA,IAAIC,QAAQ,GAAG;AACbC,EAAAA,EAAE,EAAE;AADS,CAAf;AAKA,IAAIC,MAAM,GAAG;AACTC,EAAAA,YAAY,EAAE,CAACC,QAAD,EAAWC,QAAX,EAAqBC,KAArB,KAA+B;AAC3C,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCX,MAAAA,KAAK,CAACY,GAAN,CAAUX,SAAS,CAACY,WAAV,GAAwB,YAAlC,EACI;AACEC,QAAAA,IAAI,EAAE;AACNR,UAAAA,QAAQ,EAAEA,QADJ;AAENC,UAAAA,QAAQ,EAAEA;AAFJ;AADR,OADJ,EAMOQ,IANP,CAMaC,CAAD,IAAK;AACb,cAAMR,KAAK,GAAGQ,CAAC,CAACC,IAAF,CAAOT,KAArB;AACA,cAAMU,MAAM,GAAG;AACXC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,aAAa,EAAG,UAASZ,KAAM;AAAjC;AADE,SAAf;AAGAR,QAAAA,KAAK,CAACY,GAAN,CAAUX,SAAS,CAACY,WAAV,GAAwB,eAAlC,EACIK,MADJ,EAEEH,IAFF,CAEOM,GAAG,IAAI;AAACC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACJ,IAAhB;AAAsB,SAFrC,EAEuCF,IAFvC,CAE4CM,GAAG,IAAI;AAC/CnB,UAAAA,QAAQ,GAAG;AACTC,YAAAA,EAAE,EAAEkB,GAAG,CAACJ;AADC,WAAX;AAGAP,UAAAA,OAAO;AACV,SAPD,EAOGc,KAPH,CAOSC,KAAK,IACV;AACEH,UAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACAd,UAAAA,MAAM;AACP,SAXL;AAYC,OAvBL;AAwBH,KAzBQ,CAAP;AA0BD,GA5BQ;AA6BTe,EAAAA,YAAY,EAAE,MAAM;AAClB,WAAO;AACLZ,MAAAA,IAAI,EAAEZ;AADD,KAAP;AAGD;AAjCQ,CAAb;AAsCA,eAAeE,MAAf","sourcesContent":["import axios from 'axios';\nimport constants from '../constants.json';\n\nlet userInfo = {\n  id: null,\n}\n\n\nlet myAuth = {\n    authenticate: (username, password, token) => {      \n      return new Promise((resolve, reject) => {\n        axios.get(constants.baseAddress + '/users/:id', \n            {\n              auth: {\n              username: username,\n              password: password,\n            }\n            }).then((e)=>{\n            const token = e.data.token;\n            const config = {\n                headers: { Authorization: `Bearer ${token}` }\n            };\n            axios.get(constants.baseAddress + '/users/signin',\n                config\n            ).then(res => {console.log(res.data)}).then(res => {\n                userInfo = {\n                  id: res.data\n                }\n                resolve();\n            }).catch(error => \n                {\n                  console.log(error);\n                  reject();\n                });\n            })\n    })\n    },\n    getAxiosAuth: () => {\n      return {\n        auth: userInfo\n      }\n    }\n}\n\n\n\nexport default myAuth;"]},"metadata":{},"sourceType":"module"}